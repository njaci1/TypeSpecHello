import { TextDocument } from "vscode-languageserver-textdocument";
import { CompletionList, CompletionParams, DefinitionParams, DidChangeWatchedFilesParams, DocumentFormattingParams, DocumentHighlight, DocumentHighlightParams, DocumentSymbol, DocumentSymbolParams, FoldingRange, FoldingRangeParams, Hover, HoverParams, InitializeParams, InitializeResult, InitializedParams, Location, PrepareRenameParams, PublishDiagnosticsParams, Range, ReferenceParams, RenameParams, SemanticTokens, SemanticTokensParams, SignatureHelp, SignatureHelpParams, TextDocumentChangeEvent, TextDocumentIdentifier, TextEdit, WorkspaceEdit, WorkspaceFolder, WorkspaceFoldersChangeEvent } from "vscode-languageserver/node.js";
import { Program } from "../core/program.js";
import { CompilerHost, SourceFile } from "../core/types.js";
export interface ServerHost {
    compilerHost: CompilerHost;
    throwInternalErrors?: boolean;
    getOpenDocumentByURL(url: string): TextDocument | undefined;
    sendDiagnostics(params: PublishDiagnosticsParams): void;
    log(message: string): void;
}
export interface Server {
    readonly pendingMessages: readonly string[];
    readonly workspaceFolders: readonly ServerWorkspaceFolder[];
    compile(document: TextDocument | TextDocumentIdentifier): Promise<Program | undefined>;
    initialize(params: InitializeParams): Promise<InitializeResult>;
    initialized(params: InitializedParams): void;
    workspaceFoldersChanged(e: WorkspaceFoldersChangeEvent): Promise<void>;
    watchedFilesChanged(params: DidChangeWatchedFilesParams): void;
    formatDocument(params: DocumentFormattingParams): Promise<TextEdit[]>;
    gotoDefinition(params: DefinitionParams): Promise<Location[]>;
    complete(params: CompletionParams): Promise<CompletionList>;
    findReferences(params: ReferenceParams): Promise<Location[]>;
    findDocumentHighlight(params: DocumentHighlightParams): Promise<DocumentHighlight[]>;
    prepareRename(params: PrepareRenameParams): Promise<Range | undefined>;
    rename(params: RenameParams): Promise<WorkspaceEdit>;
    getSemanticTokens(params: SemanticTokensParams): Promise<SemanticToken[]>;
    buildSemanticTokens(params: SemanticTokensParams): Promise<SemanticTokens>;
    checkChange(change: TextDocumentChangeEvent<TextDocument>): Promise<void>;
    getHover(params: HoverParams): Promise<Hover>;
    getSignatureHelp(params: SignatureHelpParams): Promise<SignatureHelp | undefined>;
    getFoldingRanges(getFoldingRanges: FoldingRangeParams): Promise<FoldingRange[]>;
    getDocumentSymbols(params: DocumentSymbolParams): Promise<DocumentSymbol[]>;
    documentClosed(change: TextDocumentChangeEvent<TextDocument>): void;
    log(message: string, details?: any): void;
}
export interface ServerSourceFile extends SourceFile {
    readonly document?: TextDocument;
}
export interface ServerWorkspaceFolder extends WorkspaceFolder {
    path: string;
}
export declare enum SemanticTokenKind {
    Namespace = 0,
    Type = 1,
    Class = 2,
    Enum = 3,
    Interface = 4,
    Struct = 5,
    TypeParameter = 6,
    Parameter = 7,
    Variable = 8,
    Property = 9,
    EnumMember = 10,
    Event = 11,
    Function = 12,
    Method = 13,
    Macro = 14,
    Keyword = 15,
    Comment = 16,
    String = 17,
    Number = 18,
    Regexp = 19,
    Operator = 20
}
export interface SemanticToken {
    kind: SemanticTokenKind;
    pos: number;
    end: number;
}
export declare function createServer(host: ServerHost): Server;
//# sourceMappingURL=serverlib.d.ts.map